<section class="fetchly-lookbook">
  <div class="fetchly-lookbook__grid">
    {% for block in section.blocks %}
      <div class="fetchly-lookbook__item fetchly-lookbook__item--{{ forloop.index }}" {{ block.shopify_attributes }}>
        {% if block.settings.image %}
          <img
            src="{{ block.settings.image | image_url: width: 1200 }}"
            alt=""
            loading="lazy"
            class="fetchly-lookbook__img"
          >
        {% else %}
          <div class="fetchly-lookbook__placeholder"></div>
        {% endif %}
      </div>
    {% endfor %}
  </div>
</section>

<style>
.fetchly-lookbook{
  background:#f6f0ea;
}

.fetchly-lookbook__grid{
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:0;
}

.fetchly-lookbook__item{
  position:relative;
  overflow:hidden;
  height:auto;
}

.fetchly-lookbook__img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  transition:transform .4s ease;
}

.fetchly-lookbook__item:hover .fetchly-lookbook__img{
  transform:scale(1.05);
}

.fetchly-lookbook__placeholder{
  width:100%;
  height:100%;
  background:rgba(0,0,0,.06);
}

@media (max-width: 900px){
  .fetchly-lookbook__grid{
    grid-template-columns:repeat(2, 1fr);
    grid-template-rows:repeat(2, 1fr);
  }

  .fetchly-lookbook__item{
    height:auto;
    min-height:240px;
  }

  .fetchly-lookbook__item--1{
    grid-column:1;
    grid-row:1;
    min-height:320px;
  }

  .fetchly-lookbook__item--2{
    grid-column:2;
    grid-row:1;
    min-height:220px;
  }

  .fetchly-lookbook__item--3{
    grid-column:1;
    grid-row:2;
    min-height:280px;
  }

  .fetchly-lookbook__item--4{
    grid-column:2;
    grid-row:2;
    min-height:380px;
  }
}

@media (max-width: 560px){
  .fetchly-lookbook__item--1{ min-height:320px; }
  .fetchly-lookbook__item--2{ min-height:220px; }
  .fetchly-lookbook__item--3{ min-height:280px; }
  .fetchly-lookbook__item--4{ min-height:380px; }
}
</style>

{% schema %}
{
  "name": "Fetchly Lookbook",
  "max_blocks": 4,
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Fetchly Lookbook",
      "blocks": [
        { "type": "image" },
        { "type": "image" },
        { "type": "image" },
        { "type": "image" }
      ]
    }
  ]
}
{% endschema %}
