<section class="fetchly-faq" aria-label="{{ section.settings.aria_label | escape }}">
  <div class="fetchly-faq__inner">
    <div class="fetchly-faq__left">
      {% if section.settings.title != blank %}
        <h2 class="fetchly-faq__title">{{ section.settings.title }}</h2>
      {% endif %}

      {% if section.settings.description != blank %}
        <div class="fetchly-faq__desc rte">{{ section.settings.description }}</div>
      {% endif %}

      {% if section.settings.button_text != blank and section.settings.button_link != blank %}
        <a class="fetchly-faq__btn" href="{{ section.settings.button_link }}">
          {{ section.settings.button_text }}
        </a>
      {% endif %}
    </div>

    <div class="fetchly-faq__right">
      <div class="fetchly-faq__list">
        {% for block in section.blocks %}
          <details class="fetchly-faq__item" {{ block.shopify_attributes }} {% if forloop.first and section.settings.first_open %}open{% endif %}>
            <summary class="fetchly-faq__summary">
              <span class="fetchly-faq__q">{{ block.settings.question }}</span>
              <span class="fetchly-faq__icon" aria-hidden="true">
                <svg viewBox="0 0 16 16" width="16" height="16" focusable="false">
                  <path d="M4.2 6.3a1 1 0 0 1 1.4 0L8 8.7l2.4-2.4a1 1 0 1 1 1.4 1.4l-3.1 3.1a1 1 0 0 1-1.4 0L4.2 7.7a1 1 0 0 1 0-1.4z" fill="currentColor"></path>
                </svg>
              </span>
            </summary>

            {% if block.settings.answer != blank %}
              <div class="fetchly-faq__a rte">
                {{ block.settings.answer }}
              </div>
            {% endif %}
          </details>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<style>
.fetchly-faq{
  background:#f6f0ea;
  color:#3a0b0b;
  padding:90px 0;
}

.fetchly-faq__inner{
  max-width:1200px;
  margin:0 auto;
  padding:0 34px;
  display:grid;
  grid-template-columns: 1fr 1.35fr;
  gap:80px;
  align-items:start;
}

.fetchly-faq__title{
  margin:0 0 18px;
  font-size:64px;
  line-height:1.02;
  letter-spacing:-0.02em;
  font-weight:600;
}

.fetchly-faq__desc{
  max-width:420px;
  font-size:16px;
  line-height:1.6;
  opacity:.9;
}

.fetchly-faq__btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  margin-top:26px;
  padding:12px 22px;
  border-radius:999px;
  border:1px solid rgba(58,11,11,.45);
  color:#3a0b0b;
  text-decoration:none;
  font-size:14px;
  background:transparent;
}

.fetchly-faq__btn:hover{
  background:rgba(58,11,11,.06);
}

.fetchly-faq__list{
  border-top:1px solid rgba(58,11,11,.35);
}

.fetchly-faq__item{
  border-bottom:1px solid rgba(58,11,11,.35);
}

.fetchly-faq__summary{
  list-style:none;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:18px;
  padding:22px 0;
  font-size:16px;
  font-weight:600;
}

.fetchly-faq__summary::-webkit-details-marker{
  display:none;
}

.fetchly-faq__icon{
  display:inline-flex;
  transition:transform .25s ease;
}

.fetchly-faq__item[open] .fetchly-faq__icon{
  transform:rotate(180deg);
}

.fetchly-faq__a{
  padding:0 0 22px;
  max-width:640px;
  font-size:14px;
  line-height:1.7;
  opacity:.92;
}

.fetchly-faq .rte p{
  margin:0 0 12px;
}

.fetchly-faq .rte p:last-child{
  margin-bottom:0;
}

@media (max-width: 900px){
  .fetchly-faq{
    padding:64px 0;
  }

  .fetchly-faq__inner{
    grid-template-columns:1fr;
    gap:34px;
    padding:0 22px;
  }

  .fetchly-faq__title{
    font-size:52px;
    line-height:1.02;
    margin-bottom:16px;
  }

  .fetchly-faq__desc{
    font-size:15px;
    line-height:1.65;
    max-width:520px;
  }

  .fetchly-faq__btn{
    margin-top:22px;
    padding:12px 22px;
    font-size:14px;
  }

  .fetchly-faq__summary{
    padding:22px 0;
    font-size:16px;
  }

  .fetchly-faq__a{
    padding:0 0 22px;
    font-size:14px;
    line-height:1.75;
  }
}


{% schema %}
{
  "name": "Fetchly FAQ",
  "settings": [
    { "type": "text", "id": "aria_label", "label": "ARIA label", "default": "Frequently Asked Questions" },
    { "type": "text", "id": "title", "label": "Title", "default": "Frequently Asked\nQuestions" },
    { "type": "richtext", "id": "description", "label": "Description", "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique.</p>" },
    { "type": "text", "id": "button_text", "label": "Button text", "default": "Contact us" },
    { "type": "url", "id": "button_link", "label": "Button link" },
    { "type": "checkbox", "id": "first_open", "label": "Open first item by default", "default": true }
  ],
  "blocks": [
    {
      "type": "faq",
      "name": "FAQ Item",
      "settings": [
        { "type": "text", "id": "question", "label": "Question", "default": "Do you have US-based stock?" },
        { "type": "richtext", "id": "answer", "label": "Answer", "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique.</p>" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Fetchly FAQ",
      "blocks": [
        { "type": "faq" },
        { "type": "faq" },
        { "type": "faq" },
        { "type": "faq" }
      ]
    }
  ]
}
{% endschema %}
